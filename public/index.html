<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		
		<title>Kaz's Portfolio of mostly school stuff!</title>
		<meta name="author" content="me@kazuma.sato.ca">
		<meta name="description" content="Kazuma Sato's portfolio'">
		<meta name="keywords" content="Developer, Programmer, HTML, CSS, JavaScript">
		
		<!-- Bootstrap -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

		<!-- Bootstrap Example -->
		<link href="css/carousel.css" rel="stylesheet">

		<!-- Just some fonts from Google -->
		<link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Open+Sans">
		<link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Roboto+Slab">
		<link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Source+Code+Pro">
		
		<!-- Kaz got style -->
		<link href="css/kaz.css" rel="stylesheet">
	</head>

	<body data-spy="scroll" data-target="navbar-main">
		
		<header class="navbar-wrapper">

			<nav class="container-fluid navbar-fixed-top navbar-inverse ">

				<header class="navbar-nav">
					<a class="navbar-toggle" data-toggle="collapse" data-target="#navbar-main">Menu</a>
					<a href="#top" class="navbar-brand">Kazuma Sato</a>
				</header>

				<section class="collapse navbar-collapse" id="navbar-main">

				<ul class="nav navbar-nav navbar-right">
					<li><a href="#portfolio">Portfolio</a></li>
					<li><a href="#resume">Resume</a></li>

					<li class="dropdown">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown">Git-hub Repos <span class="caret" /></a>
						<ul class="dropdown-menu">
							<li><a href="https://github.com/kazuma-sato">School</a></li>
							<li><a href="https://github.com/kaz-chan">Personal</a></li>
						</ul>
					</li>

					<li><a href="#about">About</a></li>
					<li><a href="#contact">Contact</a></li>
				</ul>

				</section>
			</nav>
		</header>
			
		<section id="myCarousel" class="carousel slide fill" data-ride="carousel">
			
			<!-- Indicators -->
			<ol class="carousel-indicators">
				<li data-target="#myCarousel" data-slide-to="0" class="active"></li>
				<li data-target="#myCarousel" data-slide-to="1"></li>
				<li data-target="#myCarousel" data-slide-to="2"></li>
			</ol>

			<!-- Carousel Slides -->
			<div class="carousel-inner" role="listbox">

				<div class="item first-slide active">
					<div class="container">
						<div class="carousel-caption">
							<h1>Kazuma Sato.<small class=".visible-*-inline-block">佐藤一馬。</small></h1>
							<p>Hi, I'm Kaz. I'm a coder from Toronto, Canada. I like to make things for the web.</p>
						</div>
					</div>
				</div>

				<div class="item second-slide">
					<div class="container">
						<div class="carousel-caption">
							<h1><small>IT Support Technician, System Analyst and Designer</small></h1>
							<h2>Computer Programmer</h2>
							<p><span class=".visible-*-inline-block">フルスタックコンプータープログラマー、</span> <span class=".visible-*-inline-block">フリーランスITサポート技術者, システムアナリスト</span></p>
						</div>
					</div>
				</div>

				<div class="item third-slide">
					<div class="container">
						<div class="carousel-caption">
						<h1><small>Fueled by </small> espresso <small> to write code and fix computers.</small></h1>
						<p>現在、JavaScript/ES6、Java(Applet/Servlet/Android)、C#/.NET、HTML5/CSS、PHP7、PL/SQL、MS SQL, Swift3、Bashを習得しています。</p>
						</div>
					</div>
				</div>

				<div>
					<a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
						<span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
						<span class="sr-only">Previous</span>
					</a>
					<a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
						<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
						<span class="sr-only">Next</span>
					</a>
				</div>
			</div>
		</section>
		
		<section class="container">
			<div class="row">
				<form class= "col-md-4" autocomplete="off">
					<fieldset id="apiDomefieldset">
						<legend class="h4">HTTP GET Requests</legend>
						<label for="apiResource1Group">API Resource</label>
						<div id="apiResource1Group" class="btn-group btn-group-justified" role="group" aria-label="apiResource1" data-toggle="buttons">
							<div class="btn-group" role="group" >
								<button type="radio" id="entry1" class="btn btn-default" name="apiResource1Group">Entry</button>
							</div>
							<div class="btn-group" role="group">
								<button type="radio" id="school1" class="btn btn-default"  name="apiResource1Group">School</button>
							</div>
							<div class="btn-group" role="group">
								<button type="radio" id="user1" class="btn btn-default" name="apiResource1Group">User</button>
							</div>
						</div>
					
						<div class="input-group">
							<div class="input-group-btn">
								<button type="button" id="resource2Button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" data-loading-text="Loading..." autocomplete="off">Select a Resource<span class="caret"></span></button>
								<ul class="dropdown-menu" id="resource2Dropdown">
									<li class="dropdown-header">Select another resource...</li>
								</ul>
							</div><!-- /btn-group -->
							<input type="text" class="form-control" aria-label="apiResource2" disabled />
						</div><!-- /input-group -->
					</fieldset>
					<label for="uriPath">API Uniform Resource Identifier</label>
					<div class="input-group" disabled>
						<span class="input-group-addon" id="uriDomain" disabled >https://api.crosscampus.camp.us/</span>
						<input type="text" class="form-control" id="uriPath" aria-describedby="uriDomain" disabled/>
					</div>
					<div class="btn-group btn-group-justified" role="group" aria-label="APIButtons">
						<a class="btn btn-danger" role="button">Clear</a>
						<a class="btn btn-warning" role="button">Undo</a>
						<a class="btn btn-success" role="button">Send request</a>
					</div>
				</form>
			</div>
		</section>

<script>
if(!HTMLCollection.prototype.forEach) HTMLCollection.prototype.forEach = Array.prototype.forEach;
if(!NodeList.prototype.forEach) NodeList.prototype.forEach = Array.prototype.forEach;
//httpGetAsync(theUrl, callback)
var selection = {
	value : [],
	get selection() { return this.value } ,
	set selection(val) {
		path.textContent = Array.isArray(val)? val.join("/") : [] ;
		this.value = val;
	}
};
var uri = "https://or4xc50d36.execute-api.us-west-2.amazonaws.com/dev/";
var path = document.getElementById("uriPath");
var uriDomain =  document.getElementById("uriDomain");
var apiResource1 = document.getElementById("apiResource1Group");
var apiResource2 = document.getElementById("resource2Button");
var apiResource2Dropdown = document.getElementById("resource2Dropdown");
var apiDemofieldset = document.getElementById("apiDemofieldset");

function resetDemo() {

	path.textContent = "";
	apiResource2.textContent("Select a Resource");
	apiResource2.disabled = true;
	while (apiResource1.hasChildNodes()) {
			apiResource1.removeChild(apiResource1.lastChild);
	}
	resources.forEach(function(resource) {

		var buttonStructure = [{
			tagName : "div",
			attributes : {
				class : "btn-group",
				role : "group",
			},
			childNodes : [{
				noteName : "button",
				attributes : {
					type : "radio",
					id : resource.name + 1,
					class : "btn btn-default",
					name : "apiResource1Group"
				},
				childNodes : [ {
					textnode : 
					resource.name.charAt(0).toUpperCase() + resource.name.slice(1)
				}] 
			}]
		}]; 
		kazFunctions.createNestedElements(buttonStructure)
				.forEach(function(node) {
	
			node.addEventListener("click", populateResource2);
			apiResource1.appendChild(node);
		});
	}, this);
}


function populateResource2(event) {
	
	selection = [];
	selection.push(event.target.textContent.toLowerCase());
	event.target.classList.add("active");
	apiResource2.textContent = "Loading...";
	apiResource2.disabled = true;
	apiResource1.childNodes.forEach(function(node){

		node.removeEventListener(populateResource2, this);
	});
	
	resources.forEach(function(resource) {

		while (apiResource2Dropdown.hasChildNodes()) {
			apiResource2Dropdown.removeChild(apiResource2Dropdown.lastChild);
		}
		apiResource2Dropdown.appendChild(document.createElement("li"))
				.appendChild(document.createTextNode("Select another resource..."));
		apiResource2Dropdown.firstElementChild.setAttribute("class","dropdown-header");

		resource.options.forEach(function(option) {

			if(!option.pathParameter){

				var listItem = document.createElement("li");
				var anchor = document.createElement("a");
				anchor.appendChild(document.createTextNode(option.name));
				listItem.appendChild(anchor);
				apiResource2Dropdown.appendChild(listItem);
				anchor.setAttribute("href", "#");
			}
			
		})
	
		var listItem = document.createElement("li")
		listItem.setAttribute("role" , "separator");
		listItem.setAttribute("class", "divider");

		apiResource2Dropdown.appendChild(listItem);

		if(selection[0] == resource.name) {
			attemps = 0;
			new Promise(function(resolve,reject) {

				httpGetAsync(uri + selection[0], 
					function(error, response) {
						
						if(error) { return reject(error); }
						resolve(response);
					}
				);
			}).then(function(response) {

				apiResource2Dropdown.appendChild(document.createElement("li"))
					.appendChild(document.createTextNode("Or a parameter value..."));
				apiResource2Dropdown.lastElementChild.setAttribute("class","dropdown-header");

				
				response.forEach(function(entry){

					apiResource2Dropdown.appendChild(
							document.createElement("li"))
							.appendChild(document.createTextNode(
								"ID#"+entry.id + " : " + 
								( entry.title || entry.username || entry.name )
					));
					apiResource2Dropdown.disabled = false;
					apiResource2Dropdown.textContent("Pick one...");
					apiResource2Dropdown.classList.remove("btn-default");
					apiResource2Dropdown.classList.add("btn-info");
				})
			}).catch(function(error) {

			});
		};

	})
}
document.body.addEventListener("load", 
	document.getElementById("apiResource1Group").childNodes.forEach(function(node) {
	
		node.addEventListener("click", populateResource2);
}, this));


function httpGetAsync(theUrl, callback) {

	console.log("URL : " + theUrl)
    var xmlHttp = new XMLHttpRequest();
    xmlHttp.onreadystatechange = function() { 
        if (xmlHttp.readyState == 4 && xmlHttp.status == 200){
			console.log("response : " + xmlHttp.response);
            callback(null,xmlHttp.response);
		} else {
			callback(xmlHttp.responseText);
		}
    }
    xmlHttp.open("GET", theUrl, true); // true for asynchronous 

      xmlHttp.setRequestHeader('X-PINGOTHER', 'pingpong');
      xmlHttp.setRequestHeader('Content-Type', 'application/xml');

    xmlHttp.send();
}


var resources = [{ 
	name : "entry",
	pathParameter : false,
	options: [{
		name : "notes",
		pathParameter : false,
		options : null
	},{
		name : "ads",
		pathParameter : false,
		options : null
	},{
		name : "id",
		pathParameter : true,
		options : [{
			name : "comments",
			pathParameter : false,
			options : null
		},{
			name : "rating",
			pathParameter : false,
			options : null
		}]
	}]
},{
	name : "school",
	pathParameter : false,
	options: [{
		name : "school",
		pathParameter : true,
		options : [{
			name : "program",
			pathParameter : false,
			options : [{
				name : "year",
				pathParameter : true,
				options : [{
					name : "program",
					pathParameter : true,
					options : [{
						name : "course",
						pathParameter : true,
						options : null
					}]
				}]
			}]
		}]
	}],
	name : "user",
	pathParameter : false,
	options: [{
		name : "username",
		pathParameter : true,
		options : [{
			name : "entry",
			pathParameter : false,
			options : null
		},{
			name : "rating",
			pathParameter : false,
			options : null
		}]
	}]
}];

</script>
				





		<section id="portfolio"></section>
		

		<section class="container messaging">
			<div class="row">

				<div class="col-lg-4 first-messaging">
					<img class="img-circle" alt="Generic placeholder image" width="140" height="140" />
					<h2>Heading</h2>
					<p>Donec sed odio dui. Etiam porta sem malesuada magna mollis euismod. Nullam id dolor id nibh ultricies vehicula ut id elit. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. Praesent commodo cursus magna.</p>
					<p><a class="btn btn-default" href="#" role="button">View details &raquo;</a></p>
				</div>

				<div class="col-lg-4 second-messaging">
					<img class="img-circle" alt="Generic placeholder image" width="140" height="140" />
					<h2>Heading</h2>
					<p>Duis mollis, est non commodo luctus, nisi erat porttitor ligula, eget lacinia odio sem nec elit. Cras mattis consectetur purus sit amet fermentum. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh.</p>
					<p><a class="btn btn-default" href="#" role="button">View details &raquo;</a></p>
				</div>

				<div class="col-lg-4 third-messaging">
					<img class="img-circle" alt="Generic placeholder image" width="140" height="140" />
					<h2>Heading</h2>
					<p>Donec sed odio dui. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Vestibulum id ligula porta felis euismod semper. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus.</p>
					<p><a class="btn btn-default" href="#" role="button">View details &raquo;</a></p>
				</div>

			</div>
		</section>

		<section id="resume"></section>

		<section id="about"></section>

		<section id="contact"></section>

		<footer></footer>

		
		<!-- Generating Portfolio section with just good old JavaScript -->
		<script src="js/functions.js"></script>
		<script src="js/portfolio.js"></script>
		<!-- jQuery for bootstrap -->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
		<!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
		<script src="js/ie10-viewport-bug-workaround.js"></script>
	</body>
</html>