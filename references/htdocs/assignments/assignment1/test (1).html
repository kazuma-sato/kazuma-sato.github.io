<!DOCTYPE html>
<html>
	<head>
		<style type="text/css">
		#carouselSpace{
			position: relative;
			z-index: -1000;
			margin-bottom: 5px;
			width:100%;
			height:60em;
			background-color:#555555;
		}
		#carousel{
			position: absolute;
			width: 100%;
		}
		#red1, #yellow1, #blue1, #white1, #red2, #yellow2, #blue2, #white2{
			position: absolute;
			width: 10em;
			height: 10em;
			float: left;
		}
		#red1, #red2{
			background-color: #E05151;
		}
		#yellow1, #yellow2{
			background-color: #FFD452;
		}
		#blue1, #blue2{
			background-color: #75a3d1;
		}
		#white1, #white2{
			background-color: white; 
		}
		</style>
	</head>

	<body>
		<div id="carouselSpace">
			<div id="carousel">
				<div id="red1"></div>
				<div id="white1"></div>
				<div id="blue1"></div>
				<div id="yellow1"></div>
				<div id="red2"></div>
				<div id="white2"></div>
				<div id="blue2"></div>
				<div id="yellow2"></div>
			</div>
		</div>

		<script>
				// variables for controls				
				var degreesRotateBy = 1,
				    animationInterval = 17,
				    timerID;



				    function spinCarousel(degrees, interval) {
						var space = document.getElementById("carouselSpace"),
				    		carousel = document.getElementById("carousel"),
				    		boxes = [document.getElementById("red1"),
				            		 document.getElementById("blue1"),
				    		  		 document.getElementById("white1"),
				    		 		 document.getElementById("yellow1"),
				    		 		 document.getElementById("red2"),
				    		 		 document.getElementById("blue2"),
				    		 		 document.getElementById("white2"),
				    		 		 document.getElementById("yellow2")],
				    		 angles = new Array(boxes.length);

						for(var i = 0; i < boxes.length; i++){
							
							angles[i] = (Math.PI * 2) / boxes.length * i;

							boxes[i].style.left = Math.cos(angles[i]) * (document.getElementById("carouselSpace").offsetWidth * 0.7) + "px";
							boxes[i].style.top = Math.sin(angles[i]) * (document.getElementById("carouselSpace").offsetHeight * 0.2) + "px";
							boxes[i].style.zIndex = parseInt(boxes[i].style.top);
							console.log(boxes[i].style.top)
						}


						timerID = setInterval((function(){
							carousel.style.left = space.offsetWidth / 2 + "px";
				    		carousel.style.top = space.offsetHeight / 2 + "px";
							
							for(var i = 0; i < boxes.length; i++){
								angles[i] += degrees * (Math.PI /180);

								boxes[i].style.left = Math.cos(angles[i]) * (document.getElementById("carouselSpace").offsetWidth * 0.4) + "px";
								boxes[i].style.top = Math.sin(angles[i]) * (document.getElementById("carouselSpace").offsetHeight * 0.1) + "px";
								boxes[i].style.zIndex = parseInt(boxes[i].style.top);
								var size = (parseInt(boxes[i].style.top) / 576 *300)+150  + "px";
								boxes[i].style.width =  size;
								boxes[i].style.height = size;
								console.log(boxes[i].style.height);
							}
						}), interval);	
						
					}

				spinCarousel(degreesRotateBy, animationInterval);
				document.getElementById("carouselSpace").onmouseover = function(){
					clearInterval(timerID);
					spinCarousel(degreesRotateBy / 2, animationInterval);
				};

		</script>
	</body>
</html>