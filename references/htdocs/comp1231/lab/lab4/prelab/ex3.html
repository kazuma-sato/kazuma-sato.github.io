<!DOCTYPE html>
<html lang="en-us">
<!--
Kazuma Sato 100948212 kazuma.sato@georgebrown.ca
COMP 1231 Web Programming CRN 47693
Lab Instructor Jason Carman
Lecture Instructor Maziar Masoudi
-->

<head>
	<title>COMP 1231 Web Programming | Pre-lab 4 | Example 3</title>

	<meta charset='utf-8'>
	<meta name='description' content='George Brown COMP 1231 Web Programming Pre-lab 4 example 3'>
	<meta name='keywords' content='George Brown, Lab, HTML5, HTML, T127, CSS, CSS3, JavaScript'>
	<meta name='author' content='Kazuma Sato'>

	<style>
		#left,
		#right {
			width: 50%;
			float: left;
		}
		footer {
			clear: both;
		}
		ul, li {
			margin-top:0;
		}
	</style>

	<script>
		
	</script>
</head>

<body>
	<h1>COMP 1231 Web Programming - Pre-lab 4</h1>

	<nav><a href="index.html">Exercise 1</a> | <a href="ex2.html">Exercise 2</a> | Exercise 3
	</nav>

	<h2>Exercise 3 - Array Stats 2</h2>
	<hr>
	<div id="left"></div>
	<div id ="right"></div>
	
	<script>
		var _left = document.getElementById("left");
		var _right = document.getElementById("right");
		var input = prompt("Please enter a number");
		var list = "<ul>"
		var elements = parseInt(input);
		var total = 0;
		var mean = 0;
		var median = 0;
		var mode = 0;
		//When I try to increment an undefined element, the result was NaN.
		//So I needed to create an array with 21 elements, all zeros.
		var counter = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
		var array = new Array();
		
		//For the validation. 
		if (isNaN(input) || input < 1) {
			alert("You did not input a valid number. A value of 100 is used instead.");
			elements = 100;
		}
		
		//To create the array and display it as a list
		for (var i = 0 ; i < elements; i++) {
		array[i] = parseInt(Math.random() * 21)
		list += "\t<li>" + array[i] + "</li>\n";
		//The total variale is used for the mean.
		total += array[i];
		//This counter is for the mode.
		//The index represents the number in the array. 
		//And the element is the number of times the the index number has appeared in the array.
		counter[array[i]]++;
		}
		list += "</ul>";
		_left.innerHTML = list;

		mean = total / elements;
		
		//This funtion is to allow sort() to sort numerically instead of alphabetically
		//i.e. [1, 2, 3, 11, 12] instead of [1, 11, 12, 2, 3] 
		function compareNumbers(a, b){
			return a - b;
		}
		array.sort(compareNumbers);
		//When a mean of number with a even number of elements is calculated, the average of the 2 are used.
		//so this if statment allows the 2 different kinds of calculations
		if (array.length % 2 == 0){
			//if the length of the array is divided by 2 it means there is an odd number of elements because it includes 0.
			//With an odd number of elements, the middle element is the median.
			//ie. [0,1,2] element [1] would be used
			median = array[array.length / 2];
		} else {
			//When there is an even number of elements, the average of the 2 elements in the middle are used.
			//ie. [0, 1, 2, 3] the average of [1] & [2] would be the median.
			median = (array[array.length / 2 - 0.5] + array[array.length / 2 - 0.5]) / 2;
		}
			
		//The Math.max.apply() finds the largest element in the counter
		mode = Math.max.apply(null, counter)
		//This loop applies the index of the highest element and assigns the index to the mode variable. 
		for (i = 0; i < 20; i++){
			if (mode == counter[i]){
				mode = i;
			}
		}

		//the display of the results.
		_right.innerHTML = "The mean: " + mean + "<br>" +
						   "The median: " + median + "<br>" +
						   "The mode: " + mode;
	</script>
	
	<footer>
		<hr>
		<script>
			//<!--[CDATA[
			document.write("<br><a href='http://validator.w3.org/check?uri=" +
				location.href +
				"\;ss=1;verbose=1' target='display'>" +
				"<img src='http://gblearn.com/courses/wp-content/uploads/2014/01/HTML5_Logo_2561.png' " +
				"width='50' height='50' border='0' " +
				"alt='Valid HTML5.' " +
				"title='Valid HTML5' /></a><br>")
			 dt = new Date(document.lastModified);
			document.write("<small>This page was last modified on " +
				dt.toLocaleString() + "</small>")
			 //]]-->
		</script>
	</footer>
</body>

</html>